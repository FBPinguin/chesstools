import{n as t,f as b,au as o,J as f,M as a,g as l}from"./runtime.Dt2x7lAe.js";function d(s,u,n){if(s==null)return u(void 0),t;const e=b(()=>s.subscribe(u,n));return e.unsubscribe?()=>e.unsubscribe():e}let r=!1;function g(s,u,n){const e=n[u]??(n[u]={store:null,source:f(void 0),unsubscribe:t});if(e.store!==s)if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=t;else{var i=!0;e.unsubscribe=d(s,c=>{i?e.source.v=c:a(e.source,c)}),i=!1}return l(e.source)}function p(s,u){return s.set(u),u}function v(){const s={};return o(()=>{for(var u in s)s[u].unsubscribe()}),s}function y(s,u,n){return s.set(n),u}function w(s){var u=r;try{return r=!1,[s(),r]}finally{r=u}}export{g as a,y as b,w as c,p as d,v as s};
